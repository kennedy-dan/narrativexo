"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/parseBrandGuide";
exports.ids = ["pages/api/parseBrandGuide"];
exports.modules = {

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FparseBrandGuide&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FparseBrandGuide.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FparseBrandGuide&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FparseBrandGuide.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/parseBrandGuide.ts */ \"(api)/./src/pages/api/parseBrandGuide.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/parseBrandGuide\",\n        pathname: \"/api/parseBrandGuide\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_parseBrandGuide_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnBhcnNlQnJhbmRHdWlkZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyUyRnBhZ2VzJTJGYXBpJTJGcGFyc2VCcmFuZEd1aWRlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQytEO0FBQy9EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw4REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsOERBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veG8tcDItcmV2aXNlZC8/NzE3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9wYXJzZUJyYW5kR3VpZGUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wYXJzZUJyYW5kR3VpZGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wYXJzZUJyYW5kR3VpZGVcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FparseBrandGuide&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FparseBrandGuide.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/color-utils.ts":
/*!********************************!*\
  !*** ./src/lib/color-utils.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDeltaE00: () => (/* binding */ calculateDeltaE00),\n/* harmony export */   checkWCAG: () => (/* binding */ checkWCAG),\n/* harmony export */   checkWCAGContrast: () => (/* binding */ checkWCAGContrast),\n/* harmony export */   dedupPalette: () => (/* binding */ dedupPalette),\n/* harmony export */   hexToLAB: () => (/* binding */ hexToLAB),\n/* harmony export */   hexToRgb: () => (/* binding */ hexToRgb)\n/* harmony export */ });\n// Color conversion and ΔE00 calculation utilities\nfunction hexToLAB(hex) {\n    const rgb = hexToRgb(hex);\n    const xyz = rgbToXyz(rgb.r, rgb.g, rgb.b);\n    return xyzToLab(xyz.x, xyz.y, xyz.z);\n}\nfunction dedupPalette(hexColors, threshold = 2.5) {\n    const uniqueColors = [];\n    for (const color of hexColors){\n        const lab = hexToLAB(color);\n        let isDuplicate = false;\n        for (const uniqueColor of uniqueColors){\n            const uniqueLab = hexToLAB(uniqueColor);\n            const deltaE = calculateDeltaE00(lab, uniqueLab);\n            if (deltaE <= threshold) {\n                isDuplicate = true;\n                break;\n            }\n        }\n        if (!isDuplicate) {\n            uniqueColors.push(color);\n        }\n    }\n    return uniqueColors;\n}\nfunction calculateDeltaE00(lab1, lab2) {\n    // Simplified ΔE00 calculation - in production, use a complete implementation\n    const deltaL = lab1.l - lab2.l;\n    const deltaA = lab1.a - lab2.a;\n    const deltaB = lab1.b - lab2.b;\n    return Math.sqrt(deltaL * deltaL + deltaA * deltaA + deltaB * deltaB);\n}\n// Helper conversion functions\nfunction hexToRgb(hex) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : {\n        r: 0,\n        g: 0,\n        b: 0\n    };\n}\nfunction rgbToXyz(r, g, b) {\n    let rn = r / 255;\n    let gn = g / 255;\n    let bn = b / 255;\n    rn = rn > 0.04045 ? Math.pow((rn + 0.055) / 1.055, 2.4) : rn / 12.92;\n    gn = gn > 0.04045 ? Math.pow((gn + 0.055) / 1.055, 2.4) : gn / 12.92;\n    bn = bn > 0.04045 ? Math.pow((bn + 0.055) / 1.055, 2.4) : bn / 12.92;\n    rn *= 100;\n    gn *= 100;\n    bn *= 100;\n    return {\n        x: rn * 0.4124564 + gn * 0.3575761 + bn * 0.1804375,\n        y: rn * 0.2126729 + gn * 0.7151522 + bn * 0.0721750,\n        z: rn * 0.0193339 + gn * 0.1191920 + bn * 0.9503041\n    };\n}\nfunction xyzToLab(x, y, z) {\n    const xn = x / 95.047;\n    const yn = y / 100.000;\n    const zn = z / 108.883;\n    const fx = xn > 0.008856 ? Math.pow(xn, 1 / 3) : 7.787 * xn + 16 / 116;\n    const fy = yn > 0.008856 ? Math.pow(yn, 1 / 3) : 7.787 * yn + 16 / 116;\n    const fz = zn > 0.008856 ? Math.pow(zn, 1 / 3) : 7.787 * zn + 16 / 116;\n    return {\n        l: 116 * fy - 16,\n        a: 500 * (fx - fy),\n        b: 200 * (fy - fz)\n    };\n}\nfunction checkWCAGContrast(color1, color2) {\n    const rgb1 = hexToRgb(color1);\n    const rgb2 = hexToRgb(color2);\n    const luminance1 = calculateRelativeLuminance(rgb1.r, rgb1.g, rgb1.b);\n    const luminance2 = calculateRelativeLuminance(rgb2.r, rgb2.g, rgb2.b);\n    const ratio = luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05);\n    return {\n        ratio,\n        aa: ratio >= 4.5,\n        aaa: ratio >= 7\n    };\n}\nfunction calculateRelativeLuminance(r, g, b) {\n    const [rs, gs, bs] = [\n        r,\n        g,\n        b\n    ].map((c)=>{\n        c = c / 255;\n        return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n    });\n    return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;\n}\n// Compliance checking utility\nfunction checkWCAG() {\n    const issues = [];\n    // Implementation for comprehensive WCAG checking\n    return {\n        pass: issues.length === 0,\n        issues\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUk7UUFDUixPQUFPQSxLQUFLLFVBQVVBLElBQUksUUFBUTlCLEtBQUtRLEdBQUcsQ0FBQyxDQUFDc0IsSUFBSSxLQUFJLElBQUssT0FBTztJQUNsRTtJQUVBLE9BQU8sU0FBU0osS0FBSyxTQUFTQyxLQUFLLFNBQVNDO0FBQzlDO0FBRUEsOEJBQThCO0FBQ3ZCLFNBQVNHO0lBQ2QsTUFBTUMsU0FBbUIsRUFBRTtJQUMzQixpREFBaUQ7SUFDakQsT0FBTztRQUNMQyxNQUFNRCxPQUFPRSxNQUFNLEtBQUs7UUFDeEJGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3hvLXAyLXJldmlzZWQvLi9zcmMvbGliL2NvbG9yLXV0aWxzLnRzP2QxNmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29sb3IgY29udmVyc2lvbiBhbmQgzpRFMDAgY2FsY3VsYXRpb24gdXRpbGl0aWVzXG5cbmV4cG9ydCBpbnRlcmZhY2UgTEFCQ29sb3Ige1xuICBsOiBudW1iZXI7XG4gIGE6IG51bWJlcjtcbiAgYjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJHQkNvbG9yIHtcbiAgcjogbnVtYmVyO1xuICBnOiBudW1iZXI7XG4gIGI6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBYWVpDb2xvciB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB6OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV0NBR1Jlc3VsdCB7XG4gIHJhdGlvOiBudW1iZXI7XG4gIGFhOiBib29sZWFuO1xuICBhYWE6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0xBQihoZXg6IHN0cmluZyk6IExBQkNvbG9yIHtcbiAgY29uc3QgcmdiID0gaGV4VG9SZ2IoaGV4KTtcbiAgY29uc3QgeHl6ID0gcmdiVG9YeXoocmdiLnIsIHJnYi5nLCByZ2IuYik7XG4gIHJldHVybiB4eXpUb0xhYih4eXoueCwgeHl6LnksIHh5ei56KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZHVwUGFsZXR0ZShoZXhDb2xvcnM6IHN0cmluZ1tdLCB0aHJlc2hvbGQ6IG51bWJlciA9IDIuNSk6IHN0cmluZ1tdIHtcbiAgY29uc3QgdW5pcXVlQ29sb3JzOiBzdHJpbmdbXSA9IFtdO1xuICBcbiAgZm9yIChjb25zdCBjb2xvciBvZiBoZXhDb2xvcnMpIHtcbiAgICBjb25zdCBsYWIgPSBoZXhUb0xBQihjb2xvcik7XG4gICAgbGV0IGlzRHVwbGljYXRlID0gZmFsc2U7XG4gICAgXG4gICAgZm9yIChjb25zdCB1bmlxdWVDb2xvciBvZiB1bmlxdWVDb2xvcnMpIHtcbiAgICAgIGNvbnN0IHVuaXF1ZUxhYiA9IGhleFRvTEFCKHVuaXF1ZUNvbG9yKTtcbiAgICAgIGNvbnN0IGRlbHRhRSA9IGNhbGN1bGF0ZURlbHRhRTAwKGxhYiwgdW5pcXVlTGFiKTtcbiAgICAgIFxuICAgICAgaWYgKGRlbHRhRSA8PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgaXNEdXBsaWNhdGUgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xuICAgICAgdW5pcXVlQ29sb3JzLnB1c2goY29sb3IpO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIHVuaXF1ZUNvbG9ycztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURlbHRhRTAwKGxhYjE6IExBQkNvbG9yLCBsYWIyOiBMQUJDb2xvcik6IG51bWJlciB7XG4gIC8vIFNpbXBsaWZpZWQgzpRFMDAgY2FsY3VsYXRpb24gLSBpbiBwcm9kdWN0aW9uLCB1c2UgYSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvblxuICBjb25zdCBkZWx0YUwgPSBsYWIxLmwgLSBsYWIyLmw7XG4gIGNvbnN0IGRlbHRhQSA9IGxhYjEuYSAtIGxhYjIuYTtcbiAgY29uc3QgZGVsdGFCID0gbGFiMS5iIC0gbGFiMi5iO1xuICBcbiAgcmV0dXJuIE1hdGguc3FydChkZWx0YUwgKiBkZWx0YUwgKyBkZWx0YUEgKiBkZWx0YUEgKyBkZWx0YUIgKiBkZWx0YUIpO1xufVxuXG4vLyBIZWxwZXIgY29udmVyc2lvbiBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1JnYihoZXg6IHN0cmluZyk6IFJHQkNvbG9yIHtcbiAgY29uc3QgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gIHJldHVybiByZXN1bHQgPyB7XG4gICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNilcbiAgfSA6IHsgcjogMCwgZzogMCwgYjogMCB9O1xufVxuXG5mdW5jdGlvbiByZ2JUb1h5eihyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKTogWFlaQ29sb3Ige1xuICBsZXQgcm4gPSByIC8gMjU1O1xuICBsZXQgZ24gPSBnIC8gMjU1O1xuICBsZXQgYm4gPSBiIC8gMjU1O1xuXG4gIHJuID0gcm4gPiAwLjA0MDQ1ID8gTWF0aC5wb3coKHJuICsgMC4wNTUpIC8gMS4wNTUsIDIuNCkgOiBybiAvIDEyLjkyO1xuICBnbiA9IGduID4gMC4wNDA0NSA/IE1hdGgucG93KChnbiArIDAuMDU1KSAvIDEuMDU1LCAyLjQpIDogZ24gLyAxMi45MjtcbiAgYm4gPSBibiA+IDAuMDQwNDUgPyBNYXRoLnBvdygoYm4gKyAwLjA1NSkgLyAxLjA1NSwgMi40KSA6IGJuIC8gMTIuOTI7XG5cbiAgcm4gKj0gMTAwO1xuICBnbiAqPSAxMDA7XG4gIGJuICo9IDEwMDtcblxuICByZXR1cm4ge1xuICAgIHg6IHJuICogMC40MTI0NTY0ICsgZ24gKiAwLjM1NzU3NjEgKyBibiAqIDAuMTgwNDM3NSxcbiAgICB5OiBybiAqIDAuMjEyNjcyOSArIGduICogMC43MTUxNTIyICsgYm4gKiAwLjA3MjE3NTAsXG4gICAgejogcm4gKiAwLjAxOTMzMzkgKyBnbiAqIDAuMTE5MTkyMCArIGJuICogMC45NTAzMDQxXG4gIH07XG59XG5cbmZ1bmN0aW9uIHh5elRvTGFiKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBMQUJDb2xvciB7XG4gIGNvbnN0IHhuID0geCAvIDk1LjA0NztcbiAgY29uc3QgeW4gPSB5IC8gMTAwLjAwMDtcbiAgY29uc3Qgem4gPSB6IC8gMTA4Ljg4MztcblxuICBjb25zdCBmeCA9IHhuID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh4biwgMS8zKSA6ICg3Ljc4NyAqIHhuKSArICgxNi8xMTYpO1xuICBjb25zdCBmeSA9IHluID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh5biwgMS8zKSA6ICg3Ljc4NyAqIHluKSArICgxNi8xMTYpO1xuICBjb25zdCBmeiA9IHpuID4gMC4wMDg4NTYgPyBNYXRoLnBvdyh6biwgMS8zKSA6ICg3Ljc4NyAqIHpuKSArICgxNi8xMTYpO1xuXG4gIHJldHVybiB7XG4gICAgbDogKDExNiAqIGZ5KSAtIDE2LFxuICAgIGE6IDUwMCAqIChmeCAtIGZ5KSxcbiAgICBiOiAyMDAgKiAoZnkgLSBmeilcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrV0NBR0NvbnRyYXN0KGNvbG9yMTogc3RyaW5nLCBjb2xvcjI6IHN0cmluZyk6IFdDQUdSZXN1bHQge1xuICBjb25zdCByZ2IxID0gaGV4VG9SZ2IoY29sb3IxKTtcbiAgY29uc3QgcmdiMiA9IGhleFRvUmdiKGNvbG9yMik7XG4gIFxuICBjb25zdCBsdW1pbmFuY2UxID0gY2FsY3VsYXRlUmVsYXRpdmVMdW1pbmFuY2UocmdiMS5yLCByZ2IxLmcsIHJnYjEuYik7XG4gIGNvbnN0IGx1bWluYW5jZTIgPSBjYWxjdWxhdGVSZWxhdGl2ZUx1bWluYW5jZShyZ2IyLnIsIHJnYjIuZywgcmdiMi5iKTtcbiAgXG4gIGNvbnN0IHJhdGlvID0gbHVtaW5hbmNlMSA+IGx1bWluYW5jZTIgXG4gICAgPyAobHVtaW5hbmNlMSArIDAuMDUpIC8gKGx1bWluYW5jZTIgKyAwLjA1KVxuICAgIDogKGx1bWluYW5jZTIgKyAwLjA1KSAvIChsdW1pbmFuY2UxICsgMC4wNSk7XG4gIFxuICByZXR1cm4ge1xuICAgIHJhdGlvLFxuICAgIGFhOiByYXRpbyA+PSA0LjUsXG4gICAgYWFhOiByYXRpbyA+PSA3XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlbGF0aXZlTHVtaW5hbmNlKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCBbcnMsIGdzLCBic10gPSBbciwgZywgYl0ubWFwKGMgPT4ge1xuICAgIGMgPSBjIC8gMjU1O1xuICAgIHJldHVybiBjIDw9IDAuMDM5MjggPyBjIC8gMTIuOTIgOiBNYXRoLnBvdygoYyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICB9KTtcbiAgXG4gIHJldHVybiAwLjIxMjYgKiBycyArIDAuNzE1MiAqIGdzICsgMC4wNzIyICogYnM7XG59XG5cbi8vIENvbXBsaWFuY2UgY2hlY2tpbmcgdXRpbGl0eVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrV0NBRygpOiB7IHBhc3M6IGJvb2xlYW47IGlzc3Vlczogc3RyaW5nW10gfSB7XG4gIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXTtcbiAgLy8gSW1wbGVtZW50YXRpb24gZm9yIGNvbXByZWhlbnNpdmUgV0NBRyBjaGVja2luZ1xuICByZXR1cm4ge1xuICAgIHBhc3M6IGlzc3Vlcy5sZW5ndGggPT09IDAsXG4gICAgaXNzdWVzXG4gIH07XG59Il0sIm5hbWVzIjpbImhleFRvTEFCIiwiaGV4IiwicmdiIiwiaGV4VG9SZ2IiLCJ4eXoiLCJyZ2JUb1h5eiIsInIiLCJnIiwiYiIsInh5elRvTGFiIiwieCIsInkiLCJ6IiwiZGVkdXBQYWxldHRlIiwiaGV4Q29sb3JzIiwidGhyZXNob2xkIiwidW5pcXVlQ29sb3JzIiwiY29sb3IiLCJsYWIiLCJpc0R1cGxpY2F0ZSIsInVuaXF1ZUNvbG9yIiwidW5pcXVlTGFiIiwiZGVsdGFFIiwiY2FsY3VsYXRlRGVsdGFFMDAiLCJwdXNoIiwibGFiMSIsImxhYjIiLCJkZWx0YUwiLCJsIiwiZGVsdGFBIiwiYSIsImRlbHRhQiIsIk1hdGgiLCJzcXJ0IiwicmVzdWx0IiwiZXhlYyIsInBhcnNlSW50Iiwicm4iLCJnbiIsImJuIiwicG93IiwieG4iLCJ5biIsInpuIiwiZngiLCJmeSIsImZ6IiwiY2hlY2tXQ0FHQ29udHJhc3QiLCJjb2xvcjEiLCJjb2xvcjIiLCJyZ2IxIiwicmdiMiIsImx1bWluYW5jZTEiLCJjYWxjdWxhdGVSZWxhdGl2ZUx1bWluYW5jZSIsImx1bWluYW5jZTIiLCJyYXRpbyIsImFhIiwiYWFhIiwicnMiLCJncyIsImJzIiwibWFwIiwiYyIsImNoZWNrV0NBRyIsImlzc3VlcyIsInBhc3MiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/color-utils.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/parseBrandGuide.ts":
/*!******************************************!*\
  !*** ./src/pages/api/parseBrandGuide.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var _lib_color_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/color-utils */ \"(api)/./src/lib/color-utils.ts\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__.OpenAI({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Configure multer for memory storage\nconst upload = multer__WEBPACK_IMPORTED_MODULE_2___default()({\n    storage: multer__WEBPACK_IMPORTED_MODULE_2___default().memoryStorage(),\n    limits: {\n        fileSize: 15 * 1024 * 1024\n    }\n});\n// Disable body parsing, multer will handle it\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n// Promisify multer\nconst multerUpload = (req, res)=>{\n    return new Promise((resolve, reject)=>{\n        upload.single(\"file\")(req, res, (err)=>{\n            if (err) reject(err);\n            else resolve(req.file);\n        });\n    });\n};\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        // Use multer to parse the form data\n        const file = await multerUpload(req, res);\n        if (!file) {\n            return res.status(400).json({\n                error: \"No file uploaded\"\n            });\n        }\n        // Type assertion for file\n        const uploadedFile = file;\n        // Validate file type\n        const validMimeTypes = [\n            \"image/jpeg\",\n            \"image/jpg\",\n            \"image/png\",\n            \"application/pdf\"\n        ];\n        if (!validMimeTypes.includes(uploadedFile.mimetype)) {\n            return res.status(400).json({\n                error: \"Invalid file type. Please upload PDF, JPG, or PNG.\"\n            });\n        }\n        // Convert file buffer to base64\n        const base64 = uploadedFile.buffer.toString(\"base64\");\n        const prompt = `\nAnalyze this brand guide and extract:\n1. Color palette (hex codes)\n2. Font names\n3. Overall brand safety level (true/false)\n\nReturn as JSON: { palette: string[], fonts: string[], brandSafe: boolean }\nFocus only on colors and fonts, ignore logos.\n`;\n        const completion = await openai.chat.completions.create({\n            model: \"gpt-4o\",\n            messages: [\n                {\n                    role: \"user\",\n                    content: [\n                        {\n                            type: \"text\",\n                            text: prompt\n                        },\n                        {\n                            type: \"image_url\",\n                            image_url: {\n                                url: `data:${uploadedFile.mimetype};base64,${base64}`\n                            }\n                        }\n                    ]\n                }\n            ],\n            response_format: {\n                type: \"json_object\"\n            }\n        });\n        let brandData = JSON.parse(completion.choices[0].message.content);\n        // Apply palette deduplication\n        if (brandData.palette && brandData.palette.length > 0) {\n            brandData.palette = (0,_lib_color_utils__WEBPACK_IMPORTED_MODULE_1__.dedupPalette)(brandData.palette, 2.5);\n        }\n        res.status(200).json({\n            success: true,\n            ...brandData\n        });\n    } catch (error) {\n        console.log(\"Brand guide parsing error:\", error);\n        res.status(500).json({\n            error: \"Failed to parse brand guide\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE4QjtJQUM5RDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veG8tcDItcmV2aXNlZC8uL3NyYy9wYWdlcy9hcGkvcGFyc2VCcmFuZEd1aWRlLnRzPzQ5ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlbkFJIH0gZnJvbSAnb3BlbmFpJztcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IGRlZHVwUGFsZXR0ZSB9IGZyb20gJ0AvbGliL2NvbG9yLXV0aWxzJztcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcblxuY29uc3Qgb3BlbmFpID0gbmV3IE9wZW5BSSh7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkhLFxufSk7XG5cbmludGVyZmFjZSBCcmFuZEd1aWRlUmVzcG9uc2Uge1xuICBwYWxldHRlOiBzdHJpbmdbXTtcbiAgZm9udHM6IHN0cmluZ1tdO1xuICBicmFuZFNhZmU6IGJvb2xlYW47XG59XG5cbi8vIENvbmZpZ3VyZSBtdWx0ZXIgZm9yIG1lbW9yeSBzdG9yYWdlXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICBzdG9yYWdlOiBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpLFxuICBsaW1pdHM6IHtcbiAgICBmaWxlU2l6ZTogMTUgKiAxMDI0ICogMTAyNCwgLy8gMTVNQiBsaW1pdFxuICB9LFxufSk7XG5cbi8vIERpc2FibGUgYm9keSBwYXJzaW5nLCBtdWx0ZXIgd2lsbCBoYW5kbGUgaXRcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGFwaToge1xuICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxuICB9LFxufTtcblxuLy8gUHJvbWlzaWZ5IG11bHRlclxuY29uc3QgbXVsdGVyVXBsb2FkID0gKHJlcTogYW55LCByZXM6IGFueSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHVwbG9hZC5zaW5nbGUoJ2ZpbGUnKShyZXEsIHJlcywgKGVycjogYW55KSA9PiB7XG4gICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgIGVsc2UgcmVzb2x2ZShyZXEuZmlsZSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBVc2UgbXVsdGVyIHRvIHBhcnNlIHRoZSBmb3JtIGRhdGFcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgbXVsdGVyVXBsb2FkKHJlcSwgcmVzKTtcbiAgICBcbiAgICBpZiAoIWZpbGUpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTm8gZmlsZSB1cGxvYWRlZCcgfSk7XG4gICAgfVxuXG4gICAgLy8gVHlwZSBhc3NlcnRpb24gZm9yIGZpbGVcbiAgICBjb25zdCB1cGxvYWRlZEZpbGUgPSBmaWxlIGFzIEV4cHJlc3MuTXVsdGVyLkZpbGU7XG5cbiAgICAvLyBWYWxpZGF0ZSBmaWxlIHR5cGVcbiAgICBjb25zdCB2YWxpZE1pbWVUeXBlcyA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9qcGcnLCAnaW1hZ2UvcG5nJywgJ2FwcGxpY2F0aW9uL3BkZiddO1xuICAgIGlmICghdmFsaWRNaW1lVHlwZXMuaW5jbHVkZXModXBsb2FkZWRGaWxlLm1pbWV0eXBlKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGZpbGUgdHlwZS4gUGxlYXNlIHVwbG9hZCBQREYsIEpQRywgb3IgUE5HLicgfSk7XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCBmaWxlIGJ1ZmZlciB0byBiYXNlNjRcbiAgICBjb25zdCBiYXNlNjQgPSB1cGxvYWRlZEZpbGUuYnVmZmVyLnRvU3RyaW5nKCdiYXNlNjQnKTtcblxuICAgIGNvbnN0IHByb21wdCA9IGBcbkFuYWx5emUgdGhpcyBicmFuZCBndWlkZSBhbmQgZXh0cmFjdDpcbjEuIENvbG9yIHBhbGV0dGUgKGhleCBjb2RlcylcbjIuIEZvbnQgbmFtZXNcbjMuIE92ZXJhbGwgYnJhbmQgc2FmZXR5IGxldmVsICh0cnVlL2ZhbHNlKVxuXG5SZXR1cm4gYXMgSlNPTjogeyBwYWxldHRlOiBzdHJpbmdbXSwgZm9udHM6IHN0cmluZ1tdLCBicmFuZFNhZmU6IGJvb2xlYW4gfVxuRm9jdXMgb25seSBvbiBjb2xvcnMgYW5kIGZvbnRzLCBpZ25vcmUgbG9nb3MuXG5gO1xuXG4gICAgY29uc3QgY29tcGxldGlvbiA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICBtb2RlbDogXCJncHQtNG9cIixcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBwcm9tcHQgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJpbWFnZV91cmxcIixcbiAgICAgICAgICAgICAgaW1hZ2VfdXJsOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBgZGF0YToke3VwbG9hZGVkRmlsZS5taW1ldHlwZX07YmFzZTY0LCR7YmFzZTY0fWAsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgfSk7XG5cbiAgICBsZXQgYnJhbmREYXRhOiBCcmFuZEd1aWRlUmVzcG9uc2UgPSBKU09OLnBhcnNlKGNvbXBsZXRpb24uY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQhKTtcbiAgICBcbiAgICAvLyBBcHBseSBwYWxldHRlIGRlZHVwbGljYXRpb25cbiAgICBpZiAoYnJhbmREYXRhLnBhbGV0dGUgJiYgYnJhbmREYXRhLnBhbGV0dGUubGVuZ3RoID4gMCkge1xuICAgICAgYnJhbmREYXRhLnBhbGV0dGUgPSBkZWR1cFBhbGV0dGUoYnJhbmREYXRhLnBhbGV0dGUsIDIuNSk7XG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIC4uLmJyYW5kRGF0YVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ0JyYW5kIGd1aWRlIHBhcnNpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gcGFyc2UgYnJhbmQgZ3VpZGUnIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk9wZW5BSSIsImRlZHVwUGFsZXR0ZSIsIm11bHRlciIsIm9wZW5haSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsInVwbG9hZCIsInN0b3JhZ2UiLCJtZW1vcnlTdG9yYWdlIiwibGltaXRzIiwiZmlsZVNpemUiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwibXVsdGVyVXBsb2FkIiwicmVxIiwicmVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzaW5nbGUiLCJlcnIiLCJmaWxlIiwiaGFuZGxlciIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVwbG9hZGVkRmlsZSIsInZhbGlkTWltZVR5cGVzIiwiaW5jbHVkZXMiLCJtaW1ldHlwZSIsImJhc2U2NCIsImJ1ZmZlciIsInRvU3RyaW5nIiwicHJvbXB0IiwiY29tcGxldGlvbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInR5cGUiLCJ0ZXh0IiwiaW1hZ2VfdXJsIiwidXJsIiwicmVzcG9uc2VfZm9ybWF0IiwiYnJhbmREYXRhIiwiSlNPTiIsInBhcnNlIiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJwYWxldHRlIiwibGVuZ3RoIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/parseBrandGuide.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FparseBrandGuide&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2FparseBrandGuide.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();